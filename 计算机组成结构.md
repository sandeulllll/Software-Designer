# 一、计算机系统知识

## 1. 计算机硬件组成

* 硬件五大部分：运算器、控制器、存储器、输入设备、输出设备
* 存储器
  * 内存
  * 外存
* 外设
  * 输入设备和输出设备
* 主机：CPU+主存储器 

## 2. 中央处理单元 CPU

* 组成：运算器、控制器、寄存器组、内部总线
* 功能：实现程序控制、操作控制、时间控制、数据处理功能
* 运算器组成：==要记住==
  * 算数逻辑单元ALU：实现对数据的算数和逻辑运算
  * 累加寄存器AC：运算结果或源操作数的存放区
    * Accumulator
    * 执行运算时，把一个操作数加载到累加寄存器AU中，对其进行计算后将结果存回累加寄存器。
  * 数据缓冲寄存器DR：暂时存放内存的指令或数据
  * 状态条件寄存器PSW：保存指令运行结果的条件码内容，如溢出标志
* 运算器功能：执行所有的算数运算，如加减乘除等；执行所有的逻辑运算并进行逻辑测试，如与、或、非、比较等。
* 控制器组成
  * 指令寄存器  IR  ：暂存CPU执行指令
    * instruct register
  * 程序计数器：PC ：存放指令执行地址
    * program counter
    * 不管是顺序执行还是跳跃执行，下一条将要执行的指令地址都是存放在程序计数器PC里的
  * 地址寄存器 AR ：保存当前CPU所访问的内存地址
    * address register
    * 暂时存储内存地址，便于CPU能够准确地访问内存中的数据
  * 指令译码器 ID ：分析指令操作码
    * instruction decoder
    * 分析指令的操作码
  * ……
* 控制器功能：控制整个CPU的工作，包括程序控制、时序控制等

## 3. 数据表示

* 数据的进制转换
  * 二进制 ：符号为 0b
  * 十六进制 ： 符号为 0x 或 H 
  * 八进制 O，二进制 B，十六进制 H
* R进制整数转十进制
* 十进制整数转R进制
* m进制转n进制：
  * m进制-->十进制-->n进制
* 二进制转八进制：每3位转1位
* 二进制转十六进制：每4位转1位
* 小数部分转换不考，但可以了解
* 数的表示：
  * 机器数：
    * 0和1
    * 小数点隐含，不占位置
  * 无符号数和带符号数：
    * 无符号数：表示正数，没有符号位。
    * 带符号数：最高位为符号位，正数符号为0，负数符号为1。
  * 定点表示法：小数点不占存储位
    * 纯小数：约定小数点的位置在机器数的最高位数之前
    * 纯整数：约定小数点的位置在机器数的最低数位之后
  * 真值：机器数对应的实际数值
* 数的编码（带符号数）
  * 原码：真值+s最高位表示符号
  * 反码：正数的反码就是原码；负数的反码是原码（除符号位外）各位取反
  * 补码：正数的补码就是原码；负数的补码是原码（除符号位外)各位取反再末位加一
  * 移码
    * 用作浮点运算的阶码
    * 补码的首位（符号位）取反得到移码s
* 机器字长和码制取值范围
* 浮点数的表示
  * 尾数：带符号的纯小数
  * 阶码：带符号的纯整数
  * 阶符--阶码--数符--尾数

## 4. 校验码

* 奇偶校验码
* crc校验码
* 海明校验码
  * $2^k - 1 >= n+k$
  * 数据位是n位
  * 校验位是k位



# 二、计算机体系结构

## 1. 指令系统

* flynn分类法：两个指标：指令流、数据流
  * SISD：
    * 一个控制部分，一个处理器，一个主存模块
    * 单处理器系统
  * SIMD：single instruction multiple data （不是准确的英文）
    * 一个控制部分，多个处理器，多个主存模块
    * 各处理器以异步形式执行同一条指令
    * 并行处理机，阵列处理机，超级向量处理机
  * MISD
    * 多个控制部分，一个处理器，多个主存模块
    * 被证明不可能
    * 目前没有
  * MIMD
    * 多个控制部分，多个处理器，多个主存模块
    * 能够实现作业任务、指令等全面并行
    * 多处理器系统，多核计算机
* 计算机指令
  * 由操作码和操作数组成
    * 操作码：要完成的操作
    * 操作数：参加运算的数据及其所在的地址
  * 操作码和操作数都是二进制数码，整条指令以二进制编码的形式存放再存储器中
  * 计算机指令执行过程：取指令---分析指令---执行指令
    * 从程序计数器PC中取出指令地址
    * 送入地址总线
    * CPU根据指令地址去内存中取出指令内容
    * 存入指令寄存器IR
    * 由指令译码器进行分析
    * 分析指令操作码
    * 执行指令，取出指令执行所需的源操作数
* 指令寻址方式
  * 顺序寻址
  * 跳跃寻址
    * 下一条指令的地址码不是由程序计数器给出，而是由本条指令直接给出。
    * 程序跳跃后，按新的指令地址开始顺序执行。程序计数器的内容也必须相应改变，以便及时跟踪新的指令地址。
* 指令操作数的寻址方式
  * 立即寻址：指令的地址码字段指出的不是地址，而是操作数本身。
  * 直接寻址：在指令的地址字段直接指出指令在主存中的地址。
  * 间接寻址：指令地址码字段所指向的存储单元中存储的是操作数的地址，根据这个地址再去内存中找到操作数。
  * 寄存器寻址：指令中的地址码是寄存器的编号。
  * ……
* 指令系统==考点==
  * CISC  : Complex Instruction Set Compute
    * 复杂指令集计算机/复杂指令系统
    * 兼容性强、指令繁多、长度可变、由微程序实现
    * 指令数量多、使用频率差别大、可变长格式
    * 支持多种寻址方式
    * 研制周期长
  * RISC  ：Reduced Instruction Set Computer
    * 精简指令集计算机/精简指令系统
    * 指令少、使用频率接近、主要靠硬件实现（通用寄存器、硬布线逻辑控制）
    * 定长格式
    * 大部分为单周期指令
    * 操作寄存器，只有load、store操作内存
    * 支持的寻址方式少
    * 增加了通用寄存器
    * 硬布线逻辑控制为主
    * 适合采用流水线
    * 优化编译，有效支持高级语言
* 指令流水线
  * ==相关计算==
    * 流水线周期：指令分成不同执行段，执行时间最长的段为流水线周期
    * 流水线执行时间：一条指令总执行时间+（总指令条数-1）*流水线周期
    * 流水线吞吐率：单位时间内执行的指令条数
      * 总指令条数/流水线执行时间
    * 流水线加速比：不使用流水线的时间比使用流水线的执行慢了多少
      * 不使用流水线的总执行时间/使用流水线的总执行时间
    * 超标量流水线技术：
      * 计算时：指令条数= 指令条数/度，再套流水线执行时间的公式
      * 相当于并行处理，例如度为3，取值阶段可以一次取3条指令

## 2. 存储系统

* 层次结构
  * CPU内部通用寄存器---Cache---主存储器---联机磁盘存储器---脱机光盘、磁盘存储器
  * 分级存储目的：解决存储容量、成本和速度之间的矛盾问题
* 两级存储：Cache---主存、主存---辅存
* 局部性原理
  * 时间局部性
  * 空间局部性
* 高速缓存Cache
  * 位于CPU和主存之间
  * 容量小
  * 速度为内存的5-10倍
  * 由半导体材料构成
  * 内容是主存内存的副本拷贝，对程序员是透明的
  * 直接和CPU交互
  * 组成：
    * 控制部分：判断CPU要访问的数据是否在Cache中，在则命中，不在则依据一定的算法从主存中替换。
    * 存储器：存储数据
  * 地址映射：
    * 在CPU工作时，送出的是主存单元的地址，而应从Cache中读/写信息，这就需要将主存地址转换为Cache存储器地址，这种地址的转换称为地址映像，==由硬件自动完成映射==
      * 直接映像：Cache存储器等分成块，主存也等分成块并编号，两者块号相同才能命中，地址变换简单但不灵活，容易造成资源浪费。
      * 全相联映像：也等分成块并编号，但你主存中任意一块都与Cache中任意一块对应。地址变换复杂，速度较慢，但最不容易发生冲突（只有Cache满了才会冲突），资源有效利用。
      * 组相联映像：把Cache先分块再分组，主存也先分块再分组
        * 组间采用直接映像（组号相同才能命中）
        * 组内采用全相联映像
  * Cache命中率
    * 命中：CPU所访问的数据在Cache中，直接从Cache中读取数据
    * 没有命中:需要从主存中读取所需的数据
    * ==计算题==
* 主存编址
  *  ==计算题==
  * K ：1024； k：1000
  * B ： Byte； b：bit
    * 1B= 8bit
  * 内存容量：内存单元个数*每个内存单元的大小

## 3. 输入输出技术

## 4. 总线结构

* 广义上的总线：连接两个以上电子元器件的导线
* 分类：
  * 内部总线：内部芯片级别的总线，芯片和处理器之间通信的总线
  * 系统总线：板级总线
    * 数据总线：并行数据传输位数
    * 地址总线：系统可管理的内存空间的大小
    * 控制总线：传送控制命令
      * ISA总线，EISA总线，PCI总线
  * 外部总线：设备级别的总线，微机和外部设备的总线
    * RS232（串行总线），USB(通用串行总线，即插即用，支持热插拔)
* 串行总线和并行总线：
  * 串行：
    * 速度慢，适合远距离数据传输
  * 并行：
    * 适合近距离高速传输

# 三、安全性、可靠性

## 1. 系统可靠性分析

* 平均无故障时间：MTTF （mean time to failure）

  * MTTF= 1/失效率

* mean time to repair：平均故障修复时间

  * MTTR = 1/修复率

* mean time between failures 平均故障间隔时间

  * MTBF = MTTF + MTTR

* 系统可用性：

  * = MTTF/（MTTF+MTTR）*100%

* ==串并联可靠性计算==

  * 串联系统：一个系统不可靠，整个系统崩溃 $R = R_1 \times R_2 \times … \times R_n$

  * 并联系统：所有设备都不可靠，整个系统才崩溃

    $R = 1- (1-R_1) \times (1-R_2) \times … \times (1-R_n)$

    

## 2. 计算机安全

* 网络安全五大要素
  * 保密性
  * 完整性
  * 可用性
  * 可控性
  * 不可抵赖性
* 安全威胁分类==要记住==
  * ==重复攻击 ARP==：（ARP replay attack）
    * 所截获的某次合法的通信数据拷贝，出于非法的目的而被重新发送
    * 抑制ARP重放攻击：时间戳
  * ==拒绝服务 DOS==：（denial of service）
    * 对信息或其他资源的合法访问被无条件地阻止
  * 窃听：
    * 用各种可能的合法或非法的手段窃取系统中的信息资源和敏感信息
  * 业务流分析：
    * 通过对系统进行长期监听，利用统计分析方法对通信频度、通信的信息流向、通信总量的变化等参数进行研究，从而发现有价值的信息和规律。
  * 信息泄露：
    * 信息被泄露给或透露给某个非授权的实体
  * 破坏信息的完整性
    * 数据被非授权地进行增删、修改或破坏而收到损失
  * 非授权访问
    * 某资源被非授权的人、或以非授权的方式访问
  * 假冒
  * ==旁路控制==
  * ==授权侵犯==
    * 所以要细分权限
  * ==特洛伊木马==
  * 陷阱门
  * 抵赖

## 3. 加密和认证技术

### a. 加密技术-保密性

* 明文：实际传输的真正数据
* 密文：经过加密之后的数据
* 加密：将明文转换为密文的过程
* 解密：将密文转换为明文的过程
* 加密算法：
  * 一般是公开的
  * 包括两大规则
    * 代换（转换成完全不同的其他数据）
    * 置换（打乱明文顺序，进行重新置换）
* 密钥：加密和解密过程中使用的密码等，是隐藏的。

* ==对称加密技术：也叫共享密钥加密技术==
  * 加密和解密的密钥是相同的
    * 只有一个密钥
    * 所以加密安全性不高
    * 密钥分发困难
      * 密钥还需要传输给接收方，传输过程也要考虑加密问题）
  * 但加密速度快，适合大数据的加密
  * 属于不公开密钥加密算法
  * ==常见的对称加密算法==（要记住）
    * （考察方式：哪些算法，是对称加密还是非对称加密，每个算法有多少位密钥……）
    * DES：
      * 替换+移位
      * ==56位==密钥
      * 64位数据块
      * 速度快，密钥易产生
    * 3DES （三重DES）
      * 还是56位密钥（但是有两个密钥）
      * 进行三重DES加密
    * AES：
      * 高级加密标准
      * （要知道是对称加密算法）
    * RC-5
      * RSA数据安全公司的很多产品都使用了RC-5
    * IDEA算法
      * ==128位密钥==
* ==非对称加密技术 ：也叫公开密钥加密技术==
  * 每个用户分别有一对密钥：公钥和私钥
    * 公钥是公开的，所有用户都知道
    * 私钥是保密的，只有自己知道
  * 使用公钥加密，只有对应的私钥能解密（而且只能是同一人的）
  * 使用私钥加密，也只有对应的公钥才能解密（而且只能是同一人的）
  * 对数据的加密和解密不是同一个密钥
  * 非对称加密原理
    * 甲方有一对公钥和私钥，乙方也有一对公钥和私钥
    * 双方的公钥共享，但私钥只有自己知道
    * 甲要给乙传输数据，用乙方的公钥加密，这样就只有乙方的私钥能解密。
      * 保证了数据的保密性，也不用分发解密的密钥
  * 缺点：
    * 密钥多，计算量大，加密速度慢，不适合加密大数据。
  * 常见的非对称加密算法（主要知道非对称加密算法有哪些）
    * RSA：==512位/1024位密钥==，
      * 计算量大，难破解
    * Elgamal：基础是Diffie-Hellman密钥交换算法
    * ECC：椭圆曲线算法
    * 背包算法、Rabin、D-H……
  * 两个技术组合使用：
    * 用对称加密算法来加密大量的数据明文
    * 用非堆成加密算法来加密对称算法的密钥
      * 这也是数字信封的原理

### b. 完整性

* 信息摘要
  * 发送方把信息摘要和数据一起发给接收方
  * 接收方生成信息摘要，判断和接收到的摘要是否相同
  * 由哈希函数生成信息摘要
  * 特点
    * 单向性：只能由数据生成信息摘要，不能由信息摘要还原数据
  * 信息摘要算法
    * MD5：产生128位的输出
    * SHA：产生160位的输出（安全性更高）
  * 缺点：
    * 信息摘要可以检查数据是否被篡改
    * 但信息摘要和数据是一起发送的，可能都被篡改了
      * 没办法保证发送者是否非法

### c. 不可抵赖性

* 数字签名技术
  * 验证发送方是否合法
  * 属于非对称加密体制
  * 功能：不可否认、报文鉴别、报文的完整性
  * 原理：使用发送方的私钥对信息摘要进行数字签名，接收方使用发送方的公钥解密
* 数字证书
  * 数字签名技术的前提：发送方本身是正确的
  * 数字证书 就是用来验证发送方的，对发送发的公钥进行验证
  * 数字证书由用户申请，证书签证机关CA对其核实签发的对用户公钥的认证
  * 原理
    * 发送发向CA申请数字证书
    * 数字证书经过CA签名（CA使用私钥进行加密）
    * 接收方下载CA 的公钥，去验证数字证书的真伪，如果是真的，就能说明发送方是真的
  * 数字证书的格式：
    * 现在的版本一般是X.509
    * 序列号---版本号---签名算法---发行者ID---发行者---主体ID---有效期---公钥
* PKI 公钥基础设施
  * 提供公钥加密和数字签名服务的系统/平台
  * 目的：==管理密钥和证书==
  * PKI组成部分：
    * X.509格式的证书；CA操作协议；CA管理协议；CA政策制定
  * PKI基础技术：
    * 数字签名、数据完整性机制、数字信封 、双重数字签名……
  * PIK应用系统：
    * 公钥密码证书管理
    * 黑名单的发布和管理
    * 密钥的备份和恢复
    * 自动更新密钥
    * 自动管理历史密钥
    * 支持交叉认证
